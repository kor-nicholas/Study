using HtmlAgilityPack;
using Newtonsoft.Json.Linq;
using ParserBot.Models;
using RandomUserAgent;

//string path = $"D:\\Programming\\C#\\Telegram Bots\\ParserBot\\ParserBot\\Files\\html\\vacabcy.html";
//string path = $"D:\\Programming\\C#\\Telegram Bots\\ParserBot\\ParserBot\\Files\\json\\car1.json";
string path = $"D:\\Programming\\C#\\Telegram Bots\\ParserBot\\ParserBot\\Files\\html\\car.html";
//string path = $"D:\\Programming\\C#\\Telegram Bots\\ParserBot\\ParserBot\\Files\\html\\vacancy.html";
//string path = $"D:\\Programming\\C#\\Telegram Bots\\ParserBot\\ParserBot\\Files\\json\\vacancy1.json";
//List<Add> adds = File.Exists(path) ? Newtonsoft.Json.JsonConvert.DeserializeObject<List<Add>>(File.ReadAllText(path)) : throw new FileNotFoundException("[GetAddsWithJson] Json file for car not found");




















//HtmlWeb web = new HtmlWeb();

//web.UserAgent = RandomUa.RandomUserAgent;
//var htmlDoc = await web.LoadFromWebAsync("https://www.kufar.by/l/vakansii");
//var htmlDoc = await web.LoadFromWebAsync("https://auto.kufar.by/l/cars/mercedes-benz");
//htmlDoc.Save(path);

////-----------------------------------------------------------------------------------------------------------------------------------------------

//var json = htmlDoc.DocumentNode.SelectSingleNode("//script[@id='__NEXT_DATA__']").InnerText.Trim();
//path = path.Replace("html", "json");
//File.WriteAllText(path, json);










